(this["webpackJsonpproject-iot-react"]=this["webpackJsonpproject-iot-react"]||[]).push([[0],{168:function(e,t,n){"use strict";n.r(t);var s=n(2),o=n(0),r=n.n(o),c=n(16),i=n.n(c),a=(n(71),n(72),n(12)),l=n(13),j=n(15),h=n(14),d=(n(73),n(189)),u=function(){return Object(s.jsxs)("div",{className:"col-12",children:[Object(s.jsx)("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(s.jsx)("p",{children:"Loading . . ."})]})},p=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).light=function(e){return console.log("\ud83d\ude1cstatusStr lvLight: "+e),"true"==e?"ON":"OFF"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log(JSON.stringify(this.props));var t=this.props.lvroom.map((function(t){return"lvLight"===t.name?Object(s.jsx)("div",{className:"flex-container",children:Object(s.jsxs)("div",{className:"photo-entry-block",children:[Object(s.jsx)("h5",{children:t.name}),Object(s.jsx)("img",{className:"photo-img",src:"https://www.shareicon.net/data/256x256/2016/11/15/852747_light-bulb_512x512.png",alt:t.name}),Object(s.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.props.updateLights(t.name)},children:e.light(JSON.stringify(t.value))})]},t.id)}):"thermistor"===t.name?Object(s.jsx)("div",{className:"flex-container",children:Object(s.jsxs)("div",{className:"photo-entry-block",children:[Object(s.jsx)("h5",{children:t.name}),Object(s.jsx)("img",{className:"photo-img",src:"https://cdn.iconscout.com/icon/free/png-256/temperature-1601934-1358362.png",alt:t.name}),Object(s.jsxs)("h5",{children:["Temperature in livingroom is ",t.value]})]})}):void 0}));return this.props.isLoading?Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(u,{})})}):this.props.errMess?Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("h4",{children:this.props.errMess})})})}):Object(s.jsxs)("div",{className:"flex-container",children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("h3",{children:"LIVING ROOM"})}),Object(s.jsx)("div",{className:"row",children:t})]})}}]),n}(o.Component),b=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).light=function(e){return console.log("\u2764 statusStr bedLight: "+e),"true"==e?"ON":"OFF"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log("type of this.props.updateLights is "+typeof this.props.updateLights),console.log("this.props.bedroom: "+JSON.stringify(this.props.bedroom));var t=this.props.bedroom.map((function(t){return console.log("bedroomthing: "+JSON.stringify(t)),Object(s.jsx)("div",{className:"flex-container",children:Object(s.jsxs)("div",{className:"photo-entry-block",children:[Object(s.jsx)("h5",{children:t.name}),Object(s.jsx)("img",{className:"photo-img",src:"https://icons.iconarchive.com/icons/vexels/office/256/bulb-icon.png",alt:t.name}),Object(s.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.props.updateLights(t.name)},children:e.light(JSON.stringify(t.value))})]},t.id)})}));return this.props.isLoading?Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(u,{})})}):this.props.errMess?Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("h4",{children:this.props.errMess})})})}):Object(s.jsxs)("div",{className:"flex-container",children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("h3",{children:"BEDROOM"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{children:t})})]})}}]),n}(o.Component),f=n(27),O=n(40),m=n(182),g=n(183),v=n(184),x=n(185),N=n(186),y=n(187),w=n(188),L=n(9),k=n(56),M=n(33);function S(){var e=Object(O.a)(["",""]);return S=function(){return e},e}function C(){var e=Object(O.a)(["animation: 2s "," infinite"]);return C=function(){return e},e}var A=M.a.div(C(),Object(M.b)(S(),k.bounce)),E=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).toggleNav=s.toggleNav.bind(Object(f.a)(s)),s.state={isNavOpen:!1},s}return Object(l.a)(n,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(m.a,{dark:!0,expand:"md",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(g.a,{onClick:this.toggleNav}),Object(s.jsx)(v.a,{className:"mr-auto",href:"/home",children:Object(s.jsx)("img",{src:"assets/images/logo.png",height:"30",width:"41",alt:"Smart Home"})}),Object(s.jsx)(x.a,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(s.jsxs)(N.a,{navbar:!0,children:[Object(s.jsx)(y.a,{children:Object(s.jsxs)(L.c,{className:"nav-link",to:"/livingroom",children:[Object(s.jsx)("span",{className:"fa fa-television fa-lg"})," Living Room"]})}),Object(s.jsx)(y.a,{children:Object(s.jsxs)(L.c,{className:"nav-link",to:"/bedroom",children:[Object(s.jsx)("span",{className:"fa fa-bed fa-lg"})," Bed Room"]})})]})})]})}),Object(s.jsx)(w.a,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("h1",{children:"SMART HOME"})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(A,{children:Object(s.jsx)("p",{children:"Welcome to our IoT Project!"})})})]})})})]})}}]),n}(o.Component);var I=function(e){var t=e.infoArray,n=t.filter((function(e){return"haveKey"===e.name}))[0];console.log("haveKey",n);var o=t.filter((function(e){return"haveMotion"===e.name}))[0];return console.log("haveMotion",o),n&&o?n.value&&o.value?Object(s.jsxs)("div",{className:"flex-container",children:[Object(s.jsx)("h1",{children:"Welcome home!"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"photo-entry",children:[Object(s.jsx)("h5",{children:Object(s.jsx)(L.b,{to:"/livingroom",children:"Go to Living Room"})}),Object(s.jsx)("img",{className:"photo-img-home",src:"https://cdn.clipart.email/94f4a5a4ffc772d740642292ac7e953a_vector-illustration-living-room-living-room-indoor-vector-png-_650-444.jpeg"})]}),Object(s.jsxs)("div",{className:"photo-entry",children:[Object(s.jsx)("h5",{children:Object(s.jsx)(L.b,{to:"/bedroom",children:"Go to Bed Room"})}),Object(s.jsx)("img",{className:"photo-img-home",src:"https://images.all-free-download.com/images/graphicthumb/bedroom_decoration_drawing_colored_flat_design_6833073.jpg"})]})]})]}):Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"Are you home?"}),Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.updateKey(n.name)},children:"YES"}),Object(s.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){alert("Call A Police!!!!")},children:"NO"})]})]}):Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("h4",{children:"haveKey or haveMotion are undefined"})})},T=n(34),F="INFO_LOADING",J="INFO_FAILED",_="ADD_INFO",K="http://46.101.183.30:5000/info/",D=new Headers;D.append("Content-Type","text/json","Access-Control-Allow-Origin");var R={method:"GET",headers:D},P=function(){return{type:F}},B=function(e){return{type:J,payload:e}},G=function(e){return{type:_,payload:e}},H=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchInfo(),console.log("props="+this.props.info.info)}},{key:"render",value:function(){var e=this;console.log("type of this.props.updateLights is "+typeof this.props.updateLights),console.log("this.props.info"+JSON.stringify(this.props.info)),console.log("this.props.info.info"+JSON.stringify(this.props.info.info));var t=[];return"undefined"===typeof this.props.info.info.db?(t=this.props.info.info,console.log("infoArray"+JSON.stringify(t))):(t=this.props.info.info.db,console.log("infoArray with db"+JSON.stringify(t))),Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(E,{}),Object(s.jsxs)(L.f,{children:[Object(s.jsx)(L.e,{path:"/home",component:function(){return Object(s.jsx)(I,{infoArray:t,updateKey:e.props.updateKey})}}),Object(s.jsx)(L.e,{exact:!0,path:"/livingroom",component:function(){return Object(s.jsx)(p,{lvroom:t,lvroomLoading:t.isLoading,lvroomErrMess:t.errMess,updateLights:e.props.updateLights})}}),Object(s.jsx)(L.e,{exact:!0,path:"/bedroom",component:function(){return Object(s.jsx)(b,{bedroom:t.filter((function(e){return"bedLight"===e.name})),bedroomLoading:t.isLoading,bedroomErrMess:t.errMess,updateLights:e.props.updateLights})}}),Object(s.jsx)(L.d,{to:"/home"})]})]})}}]),n}(o.Component),U=Object(L.g)(Object(T.b)((function(e){return{info:e.info}}),(function(e){return{fetchInfo:function(){e((function(e){return console.log("Fetch info first"),e(P(!0)),fetch(K+"all",R).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(G(t))})).catch((function(t){return e(B(t.message))}))}))},updateLights:function(t){return e(function(e){return function(t){return fetch(K+"lights/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return console.log("response updatelight: "+e.json),e.json()})).then((function(e){return console.log("response updatelight addInfo: "+JSON.stringify(e)),t(G(e))})).catch((function(e){console.log("update lights",e.message)}))}}(t))},updateKey:function(t){return e(function(e){return function(t){return fetch(K+"security/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return console.log("response updateKey: "+e.json),e.json()})).then((function(e){return console.log("response updateKey addInfo: "+JSON.stringify(e)),t(G(e))})).catch((function(e){console.log("update Key",e.message)}))}}(t))}}}))(H)),W=n(23),V=n(21),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,info:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!1,errMess:null,info:t.payload});case F:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!0,errMess:null,info:[]});case J:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},q=n(63),z=n.n(q),Q=n(64),X=n.n(Q),Z=Object(W.d)(Object(W.c)({info:Y}),Object(W.a)(z.a,X.a)),$=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(T.a,{store:Z,children:Object(s.jsx)(L.a,{children:Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(U,{})})})})}}]),n}(o.Component),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,190)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),o(e),r(e),c(e)}))};n(165),n(166),n(167);i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)($,{})}),document.getElementById("root")),ee()},71:function(e,t,n){},73:function(e,t,n){}},[[168,1,2]]]);
//# sourceMappingURL=main.78385917.chunk.js.map