(this["webpackJsonpproject-iot-react"]=this["webpackJsonpproject-iot-react"]||[]).push([[0],{167:function(e,t,n){"use strict";n.r(t);var o=n(2),s=n(0),r=n.n(s),c=n(16),i=n.n(c),a=(n(71),n(72),n(12)),l=n(13),j=n(15),h=n(14),d=(n(73),n(188)),u=function(){return Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),Object(o.jsx)("p",{children:"Loading . . ."})]})},p=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).light=function(e){return console.log("\ud83d\ude1cstatusStr lvLight: "+e),"true"===e?"ON":"OFF"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log(JSON.stringify(this.props));var t=this.props.lvroom.map((function(t){return"lvLight"===t.name?Object(o.jsx)("div",{className:"flex-container",children:Object(o.jsxs)("div",{className:"photo-entry-block",children:[Object(o.jsx)("h5",{children:t.name}),Object(o.jsx)("img",{className:"photo-img",src:"https://www.shareicon.net/data/256x256/2016/11/15/852747_light-bulb_512x512.png",alt:t.name}),Object(o.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.props.updateLights(t.name)},children:e.light(JSON.stringify(t.value))})]},t.id)}):"thermistor"===t.name?Object(o.jsx)("div",{className:"flex-container",children:Object(o.jsxs)("div",{className:"photo-entry-block",children:[Object(o.jsx)("h5",{children:t.name}),Object(o.jsx)("img",{className:"photo-img",src:"https://cdn.iconscout.com/icon/free/png-256/temperature-1601934-1358362.png",alt:t.name}),Object(o.jsxs)("h5",{children:["Temperature in livingroom is ",t.value]})]})}):void 0}));return this.props.isLoading?Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(u,{})})}):this.props.errMess?Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("h4",{children:this.props.errMess})})})}):Object(o.jsxs)("div",{className:"flex-container",children:[Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("h3",{children:"LIVING ROOM"})}),Object(o.jsx)("div",{className:"row",children:t})]})}}]),n}(s.Component),b=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).light=function(e){return console.log("\u2764 statusStr bedLight: "+e),"true"===e?"ON":"OFF"},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;console.log("type of this.props.updateLights is "+typeof this.props.updateLights),console.log("this.props.bedroom: "+JSON.stringify(this.props.bedroom));var t=this.props.bedroom.map((function(t){return console.log("bedroomthing: "+JSON.stringify(t)),Object(o.jsx)("div",{className:"flex-container",children:Object(o.jsxs)("div",{className:"photo-entry-block",children:[Object(o.jsx)("h5",{children:t.name}),Object(o.jsx)("img",{className:"photo-img",src:"https://icons.iconarchive.com/icons/vexels/office/256/bulb-icon.png",alt:t.name}),Object(o.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.props.updateLights(t.name)},children:e.light(JSON.stringify(t.value))})]},t.id)})}));return this.props.isLoading?Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(u,{})})}):this.props.errMess?Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("h4",{children:this.props.errMess})})})}):Object(o.jsxs)("div",{className:"flex-container",children:[Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)("h3",{children:"BEDROOM"})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{children:t})})]})}}]),n}(s.Component),f=n(27),O=n(39),m=n(181),g=n(182),v=n(183),x=n(184),N=n(185),y=n(186),w=n(187),L=n(9),k=n(56),M=n(40);function S(){var e=Object(O.a)(["",""]);return S=function(){return e},e}function C(){var e=Object(O.a)(["animation: 2s "," infinite"]);return C=function(){return e},e}var A=M.a.div(C(),Object(M.b)(S(),k.bounce)),E=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).toggleNav=o.toggleNav.bind(Object(f.a)(o)),o.state={isNavOpen:!1},o}return Object(l.a)(n,[{key:"toggleNav",value:function(){this.setState({isNavOpen:!this.state.isNavOpen})}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(m.a,{dark:!0,expand:"md",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(g.a,{onClick:this.toggleNav}),Object(o.jsx)(v.a,{className:"mr-auto",href:"/home",children:Object(o.jsx)("img",{src:"https://www.flaticon.com/svg/static/icons/svg/1295/1295141.svg",height:"30",width:"41",alt:"Smart Home"})}),Object(o.jsx)(x.a,{isOpen:this.state.isNavOpen,navbar:!0,children:Object(o.jsxs)(N.a,{navbar:!0,children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(L.c,{className:"nav-link",to:"/livingroom",children:[Object(o.jsx)("span",{className:"fa fa-television fa-lg"})," Living Room"]})}),Object(o.jsx)(y.a,{children:Object(o.jsxs)(L.c,{className:"nav-link",to:"/bedroom",children:[Object(o.jsx)("span",{className:"fa fa-bed fa-lg"})," Bed Room"]})})]})})]})}),Object(o.jsx)(w.a,{children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col",children:Object(o.jsx)("h1",{children:"SMART HOME"})}),Object(o.jsx)("div",{className:"col",children:Object(o.jsx)(A,{children:Object(o.jsx)("p",{children:"Welcome to our IoT Project!"})})})]})})})]})}}]),n}(s.Component);var I=function(e){var t=e.infoArray,n=t.filter((function(e){return"haveKey"===e.name}))[0];console.log("haveKey",n);var s=t.filter((function(e){return"haveMotion"===e.name}))[0];return console.log("haveMotion",s),n&&s?n.value&&s.value?Object(o.jsxs)("div",{className:"flex-container",children:[Object(o.jsx)("h1",{children:"Welcome home!"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"photo-entry",children:[Object(o.jsx)("h5",{children:Object(o.jsx)(L.b,{to:"/livingroom",children:"Go to Living Room"})}),Object(o.jsx)("img",{className:"photo-img-home",src:"https://cdn.clipart.email/94f4a5a4ffc772d740642292ac7e953a_vector-illustration-living-room-living-room-indoor-vector-png-_650-444.jpeg",alt:"/livingroom"})]}),Object(o.jsxs)("div",{className:"photo-entry",children:[Object(o.jsx)("h5",{children:Object(o.jsx)(L.b,{to:"/bedroom",children:"Go to Bed Room"})}),Object(o.jsx)("img",{className:"photo-img-home",src:"https://images.all-free-download.com/images/graphicthumb/bedroom_decoration_drawing_colored_flat_design_6833073.jpg",alt:"/bedroom"})]})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:"Are you home?"}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){return e.updateKey(n.name)},children:"YES"}),Object(o.jsx)(d.a,{className:"m-1",variant:"contained",color:"primary",onClick:function(){alert("Call A Police!!!!")},children:"NO"})]})]}):Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("h4",{children:"haveKey or haveMotion are undefined"})})},T=n(33),F="INFO_LOADING",J="INFO_FAILED",_="ADD_INFO",K="http://46.101.183.30:5000/info/",D=new Headers;D.append("Content-Type","text/json","Access-Control-Allow-Origin");var R={method:"GET",headers:D},P=function(){return{type:F}},B=function(e){return{type:J,payload:e}},G=function(e){return{type:_,payload:e}},H=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchInfo(),console.log("props="+this.props.info.info)}},{key:"render",value:function(){var e=this;console.log("type of this.props.updateLights is "+typeof this.props.updateLights),console.log("this.props.info"+JSON.stringify(this.props.info)),console.log("this.props.info.info"+JSON.stringify(this.props.info.info));var t=[];return"undefined"===typeof this.props.info.info.db?(t=this.props.info.info,console.log("infoArray"+JSON.stringify(t))):(t=this.props.info.info.db,console.log("infoArray with db"+JSON.stringify(t))),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(E,{}),Object(o.jsxs)(L.f,{children:[Object(o.jsx)(L.e,{path:"/home",component:function(){return Object(o.jsx)(I,{infoArray:t,updateKey:e.props.updateKey})}}),Object(o.jsx)(L.e,{exact:!0,path:"/livingroom",component:function(){return Object(o.jsx)(p,{lvroom:t,lvroomLoading:t.isLoading,lvroomErrMess:t.errMess,updateLights:e.props.updateLights})}}),Object(o.jsx)(L.e,{exact:!0,path:"/bedroom",component:function(){return Object(o.jsx)(b,{bedroom:t.filter((function(e){return"bedLight"===e.name})),bedroomLoading:t.isLoading,bedroomErrMess:t.errMess,updateLights:e.props.updateLights})}}),Object(o.jsx)(L.d,{to:"/home"})]})]})}}]),n}(s.Component),U=Object(L.g)(Object(T.b)((function(e){return{info:e.info}}),(function(e){return{fetchInfo:function(){e((function(e){return console.log("Fetch info first"),e(P(!0)),fetch(K+"all",R).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(G(t))})).catch((function(t){return e(B(t.message))}))}))},updateLights:function(t){return e(function(e){return function(t){return fetch(K+"lights/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return console.log("response updatelight: "+e.json),e.json()})).then((function(e){return console.log("response updatelight addInfo: "+JSON.stringify(e)),t(G(e))})).catch((function(e){console.log("update lights",e.message)}))}}(t))},updateKey:function(t){return e(function(e){return function(t){return fetch(K+"security/"+e,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return console.log("response updateKey: "+e.json),e.json()})).then((function(e){return console.log("response updateKey addInfo: "+JSON.stringify(e)),t(G(e))})).catch((function(e){console.log("update Key",e.message)}))}}(t))}}}))(H)),W=n(23),V=n(21),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,info:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!1,errMess:null,info:t.payload});case F:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!0,errMess:null,info:[]});case J:return Object(V.a)(Object(V.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},q=n(63),z=n.n(q),Q=n(64),X=n.n(Q),Z=Object(W.d)(Object(W.c)({info:Y}),Object(W.a)(z.a,X.a)),$=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(o.jsx)(T.a,{store:Z,children:Object(o.jsx)(L.a,{children:Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(U,{})})})})}}]),n}(s.Component),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,189)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),s(e),r(e),c(e)}))};n(165),n(166);i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)($,{})}),document.getElementById("root")),ee()},71:function(e,t,n){},73:function(e,t,n){}},[[167,1,2]]]);
//# sourceMappingURL=main.c436a96f.chunk.js.map